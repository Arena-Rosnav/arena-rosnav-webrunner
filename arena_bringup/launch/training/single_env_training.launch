<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="ns" />
  <arg name="model" default="jackal"/>
  <arg name="entity_manager" default="pedsim"/>
  <arg name="world_file" default=""/>

  <!-- TODO: make non-constant -->
  <arg name="sfm" value="passthrough" />

  <!-- use fake localization-->
  <group ns="$(arg ns)" >
    <!-- use simulator and rviz-->
    <include file="$(find arena_bringup)/launch/training/flatland_simulator.launch">
      <arg name="ns" value="$(arg ns)" />
    </include>

    <remap from="/clock" to="/$(arg ns)/clock"/>
    <include file="$(find pedsim_ros)/launch/pedsim.launch" if="$(eval arg('entity_manager')=='pedsim')">
      <arg name="scene_file" value="$(find arena-simulation-setup)/worlds/$(arg world_file)/worlds/$(arg world_file).world"/>
    </include>
  </group>

</launch>